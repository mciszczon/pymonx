{% load monitor_extras %}

<table class="mt-8 table table-pin-rows">
   <thead>
      <tr>
         <th class="min-w-[80px]">PID</th>
         <th class="w-full">Process</th>
         <th class="min-w-[120px]">Status</th>
         <th class="min-w-[150px]">Duration</th>
         <th class="min-w-[100px]">CPU</th>
         <th class="min-w-[140px]">Memory</th>
         {% if not snapshot %}<th class="min-w=[80px]"></th>{% endif %}
      </tr>
   </thead>
   <tbody>
   {% for process in processes %}
   <tr class="hover:bg-base-200">
      <th>{{ process.pid }}</th>
      <th>{{ process.name }}</th>
      <td>{% include "monitor/includes/status.html" with status=process.status %}</td>
      <td>{% time_since process.start_time generated_at %}</td>
      <td>{% include "monitor/includes/cpu.html" with cpu=process.cpu %}</td>
      <td>{% include "monitor/includes/memory.html" with memory=process.memory %}</td>
      {% if not snapshot %}
         <td class="text-right">
            <button
               class="btn btn-sm btn-primary" type="submit"
               @click="showModal = true; $store.process = { pid: {{ process.pid }}, name: '{{ process.name }}' }"
            >
               Kill
            </button>
         </td>
      {% endif %}
   </tr>
   {% endfor %}
   </tbody>
</table>
